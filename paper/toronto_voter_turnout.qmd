---
title: "The Impact of Socio-Economic and Demographic Factors on Voter Turnout in Toronto Wards"
subtitle: "An Analysis of the 2022 Toronto Municipal Election"
author: 
  - Janel Gilani
thanks: "Code and data are available at: https://github.com/JanelGilani/toronto-voter-turnout.git"
date: today
date-format: long
abstract: "This paper investigates the impact of socio-economic and demographic factors on voter turnout in the 2022 Toronto Municipal Election. Using data from Open Data Toronto, we use Bayesian analysis to examine the relationships between a ward's voter turnout and factors such as  its education level, income, unemployment rate, population, and number of subdivisions. Our inference revealed that while unemployment rate and number of subdivisions have a mild positive and negative correlation with voter turnout respectively, our findings for income, education, and population were not statistically significant. These understandings have implications for attempting to increase voter turnout in future elections."
format: pdf
toc: true
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false


# Uncomment the following lines to install the required packages only once:
#install.packages("tinytex")
#install.packages("tidyverse")
#install.packages("knitr")
#install.packages("kableExtra")
#install.packages("here")
#install.packages("ggbeeswarm")
#install.packages("rstanarm")
#install.packages("arrow")
#install.packages("tidybayes")
#install.packages("modelsummary")
#install.packages("broom.mixed")
#install.packages("parameters")
#install.packages("sf")
#install.packages("ggrepel")
#install.packages("ggplot2")
#install.packages("dplyr")
#install.packages("patchwork")

# Load the required libraries
library(tidyverse) # a collection of data-related packages
library(knitr) # for kable
library(kableExtra)
library(here)
library(ggbeeswarm)
library(dplyr)
library(ggplot2)
library(sf)
library(ggrepel)
library(patchwork)
library(rstanarm)
library(arrow)
library(modelsummary)
library(broom.mixed)
library(parameters)
library(styler)

# Style the code:
#style_file("paper/toronto_voter_turnout.qmd")


# Load the data
analysis_data <- read_csv(file = here::here("data/analysis_data/analysis_data.csv"))
election_data <- read_csv(file = here::here("data/analysis_data/cleaned_election_data.csv"))
ward_data <- read_csv(file = here::here("data/analysis_data/cleaned_ward_data.csv"))

```

# Introduction

Voting for the mayor of your ward is one of the most important decisions a Canadian citizen can make because it decides many of the decisions that will be made throughout that four year term as well as how their life will change in that period of time. This is why it is important to understand the many factors that influence the voter turnout and thus, ultimately affect the integrity and representativeness of the electoral process. As mandated by the Government of Ontario, residents of the City of Toronto went to the polls on October 24, 2022 to elect a mayor, councillors, and school board trustees. Then-sitting Mayor, John Tory, sought re-election, along with a number of incumbent city councillors. Coming out of the height of the COVID-19 pandemic, the 2022 election largely upheld the status quo and did not feature ambitious policy platforms. Voter turnout across the city fell to 30% - the lowest in the city’s history since amalgamation in 1997, with turnout ranging on a ward-by-ward basis from 22% to 38% [@election2022; @torontoTurnout]. 

While there is existing literature on most of these factors in isolation, there has been little research that has examined the combined effect of these explanatory factors on voter turnout, especially in Canadian cities like Toronto and this paper will contribute to the investigation of this phenomenon. Using the 2022 Toronto Municipal Election and Ward Profiles data from Open Data Toronto, this paper will be examining many factors that could have influenced voter turnout in the 2022 Toronto Municipal Election such as education, income, unemployment rate, population, and number of subdivisions within a ward. Our main focus is to conduct analysis on voter turnout as the response variable, and to see if our estimand, the effect of ward's socio-economic and demographic factors on the ward's voter turnout, has influenced voter turnout in the elections. We found that socio-economic factors such as income, unemployment rate, and education level have a significant impact on voter turnout, while demographic factors such as population and number of subdivisions have a less significant impact. Using these understandings, we hope to highlight the potential implications these correlations may have on upcoming elections and the electoral process in Toronto.

Our paper begins with the Data section (@sec-data) to visualize and further understand the measurement, source, methodology, and variables we are examining. Then, we introduce the Model (@sec-model) used to understand the relationships in the data and report the findings in the Results section (@sec-results). Finally, we include the Discussion (@sec-discussion) of the findings, summarizing the takeaway and future of this research.

# Data {#sec-data}

Data for this research comes from Open Data Toronto [@toronto], an open source data portal containing various topics of data for the city. 
For the data involved in this paper, we combine `Elections - Voter Statistics` [@ElectionData] and `Ward Profiles (25-Ward Model)` [@WardProfile]
 

## Measurement 

Our research question and estimand is divided into two parts: impact of socio-economic factors and demographic factors on voter turnout, which is our response variable.
Starting off with socio-economic factors, we use education, income, and unemployment rate as the explanatory variables to represent these factors. Education is a key factor in determining voter turnout as it is associated with political knowledge, interest, and participation [@TurnoutWhy]. To measure education, we use the percentage of citizens with no certificate, diploma, or degree as an indicator of education level. Income and unemployment are also important factor in determining voter turnout as they are associated with financial security, political interest, and participation. Household income is not the sole indicator of wealth, but it is heavily related to wealth as both income and wealth are key indicators of financial security [@Schaeffer]. We use the unemployment rate as an indicator of economic stability.

Moving on to demographic factors, we use population and number of subdivisions as the explanatory variables to represent these factors. Individual turnout by ward depended on a number of factors, including the accessibility of polling locations within subdivisions to cast a ballot. The City of Toronto @Def defines a ward as “a geographical area represented by a member of Council.” Subdivisions are defined by the City of Toronto [@ElectionData] as “.... geographical area[s within a ward] designated by the City Clerk.” Previous studies concentrating on large cities in the United States, including Atlanta revealed that having polling locations in close proximity to a voter’s home bolsters turnout and even minor changes in placement of a polling location can have significant impact on a voter’s decision to cast a ballot [@Placement]. Thus, we use the number of subdivisions as an indicator of accessibility to polling locations. Lastly, we use population as an indicator of the demographic size of the ward.

Election data is formed by collecting the relevant numbers observed during the phenomenon/process of voting, and ward profiles data is extracted from the 2022 Census data which is collected through a variety of methods such as self-reporting surveys, door-to-door enumeration, online/telephone surveys, administrative  records, and sampling techniques.

## Ward Profiles (25-Ward Model)

Ward profiles such as income and population would be interesting factors to analyze alongside eligible voter turnouts. Therefore, the dataset for ward profiles [@WardProfile] based on 2022 census data has been included in analysis as well. This dataset is published by City Planning, and was last updated on January 3, 2024. This dataset contains demographic, social, and economic information for each ward such as population, households, families, education, ethnocultural composition, spoken languages, income and housing costs. For our purpose of research, we are interested in population, number of citizens with no certificate, diploma, or degree, unemployment rate, and average household income of each ward. A sample of the cleaned dataset for the wards is shown below in @tbl-ward-profile-data. 

Ward profile data is stored in an Excel file with multiple tabs. The relevant data to be used for this paper's analysis is included the first tab, `2022 Census One Variable`. As such, only data for this tab was downloaded for analysis. Further data cleaning was performed to transpose the data and only keeping information relevant to our research question (see @tbl-ward-profile-data).

The variables selected for analysis were:

- `Ward ID`: The unique identifier for each ward.
- `Population`: The total number of people living in the ward.
- `Uneducated Population (%)`: The percentage of the population with no certificate, diploma, or degree. This was calculated by dividing the number of uneducated people by the total population and multiplying by 100.
- `Unemployment Rate (%)`: The percentage of the population in labour market that is unemployed.
- `Income`: The average household income in the ward.


```{r}
#| echo: false
#| message: false
#| label: tbl-ward-profile-data
#| tbl-cap: Sample of Cleaned Toronto Ward Profile Data
#| tbl-pos: "h"

head(ward_data, 5) |>
  kable(
    col.names = c("Ward ID", "Population", "Uneducated Population (%)", "Unemployment Rate (%)", "Income"),
    booktabs = TRUE,
    align = "c"
  )
```


## Election Voter Statistics
This dataset, published by the City Clerk's Office [@ElectionData] outlines voter statistics on a ward-by-ward and entire city basis for the 2022 municipal election. For each subdivision within a ward, the data set shows the polling location name and address, number of additions and corrections to the voter's list, number of eligible electors and number who voted, and rejected and declined ballots. This data set was last refreshed on February 7, 2023. 

The variables (see @tbl-election-data) selected for analysis were:

- `Ward ID`: The unique identifier for each ward.
- `Eligible Voter Turnout (%)`: The percentage of eligible voters who cast a ballot.
- `Number of Voters`: The total number of voters who cast a ballot.
- `Number of Subdivisions`: The number of subdivisions within a ward.


```{r}
#| echo: false
#| message: false
#| label: tbl-election-data
#| tbl-cap: Sample of Cleaned Elections Data
#| tbl-pos: "h"

#referenced kable stying from https://github.com/christina-wei/INF3104-1-Covid-Clinics/blob/main/outputs/paper/covid_clinics.qmd
head(election_data, 5) |>
  kable(
    col.names = c("Ward ID", "Eligible Voter Turnout (%)", "Number of Voters", "Number of Subdivisions"),
    booktabs = TRUE,
    align = "c"
  )

```

To better visualize the voter turnout across Toronto wards, we have created a bar plot (see @fig-ward-turnout) that displays the percentage of eligible voters who cast a ballot in each ward. The map of Toronto (see @fig-toronto-map) highlights the voter turnout across wards, providing a spatial representation of the data. From @fig-ward-turnout, we can observe that wards 4, 14, and 19 have the highest voter turnout, while wards 7, 1, and 10 have the lowest voter turnout. This trend confirms the intuition that more affluent and demographically developed areas such as Downtown Toronto have higher voter turnout. The map in @fig-toronto-map further illustrates this trend, with darker shades  in southern Toronto indicating higher voter turnout. 


```{r}
#| message: false
#| echo: false
#| label: fig-ward-turnout
#| fig-cap: Voter Turnout (%) across Toronto Wards


analysis_data %>%
  ggplot(mapping = aes(x = factor(ward_id), y = percent_voted)) +
  geom_bar(stat = "identity", fill = "gray", color = "black") +
  labs(
    x = "Ward ID",
    y = "Eligible Voter Turnout (%)"
  ) +
  theme_minimal()
        
```

```{r}
#| echo: false
#| message: false
#| warning: false
#| label: fig-toronto-map
#| fig-cap: "Map of Toronto highlighting the voter turnout across wards"
#| fig.pos: 'H'

# URL to the zip file
url <- "https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/5e7a8234-f805-43ac-820f-03d7c360b588/resource/35f67d86-cfc8-4483-8d77-50d035b010d9/download/25-ward-model-december-2018-wgs84-latitude-longitude.zip"

# Temporary file to store the downloaded zip
temp_zip <- tempfile(fileext = ".zip")

# Download the zip file
download.file(url, temp_zip, mode = "wb")

# Unzip the file to a temporary directory
temp_dir <- tempdir()
unzip(temp_zip, exdir = temp_dir)

# Assuming the shapefile is directly in the unzipped folder and has a standard .shp extension
shapefiles <- list.files(temp_dir, pattern = "\\.shp$", full.names = TRUE)

# Read the shapefile (replace 'shapefiles[1]' with the specific file if there are multiple shapefiles)
toronto_map <- st_read(shapefiles[1], quiet = TRUE)

# Clean up the downloaded zip file
unlink(temp_zip)

# Merge analysis_data with toronto_map by ward_id
toronto_map <- merge(toronto_map, analysis_data, by.x = "AREA_S_CD", by.y = "ward_id")

color_scale <- scale_fill_gradient(low = "lightblue", high = "darkblue", limits = c(22, 38))

# Plot the map
ggplot() +
  geom_sf(data = toronto_map, aes(fill = percent_voted)) +
  color_scale +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```



## Voter Turnout and Ward's Socio-Economic and Demographic Factors

As the goal of this research is to analyze the impact of socio-economic and demographic factors on voter turnout in the 2022 Toronto Municipal Election, we have combined the cleaned election data and ward profile data to create an analysis dataset. The analysis dataset includes the following variables: ward ID, ward name, population, number of subdivisions, percent of uneducated population, unemployment rate, income, voter turnout percentage, and number of voters. Below in @tbl-analysis-data is a sample of the analysis data. 



```{r}
#| echo: false
#| message: false
#| label: tbl-analysis-data
#| tbl-cap: Sample of Combined Ward Election, Income, Employment, and Education Data
#| tbl-pos: "h"

head(analysis_data, 10) |>
  arrange (ward_id) |>
  relocate(c("ward_id", "ward_name",  "population", "num_sub", "percent_uneducated", "unemployment_rate", "income", "percent_voted", "number_voted")) |>
  slice(1:5) |>
  kable(
    booktabs = TRUE,
    col.names = c("Ward ID", "Name",  "Pop.","Num. of SubDiv", "Uneducated Pop. (%)", "Unemployment Rate (%)", "Income", "Voter Turnout (%)", "Num. of Voters"),
    align = c("c", "l", "c", "c", "c", "c", "c", "c", "c")
        ) 
```



There are 25 wards in the City of Toronto, each with unique socio-economic and demographic characteristics as summarised in @tbl-summ-stats. Based on 2021 census data, the average population per ward is 110452, with standard deviation of 10594. The wards with the highest population are wards 3, 10 and 2. The wards with the lowest population are wards 23, 16 and 11. The average income per ward is \$120096, with standard deviation of \$33980.64 The wards with the highest income are wards 15, 8 and 11. The wards with the lowest income are wards 7, 5 and 13.

Moving on to unemployment rate, the average unemployment rate per ward is 14.13%, with standard deviation of 2.11%. The wards with the highest unemployment rate are wards 7, 23 and 1. The wards with the lowest unemployment rate are wards 10, 12 and 3 The average percentage of uneducated population per ward is 12.43%, with standard deviation of 4.93%. The wards with the highest percentage of uneducated population are wards 7, 5 and 1. The wards with the lowest percentage of uneducated population are wards 10, 11 and 13. 

Voter turnout across the entire city during the 2022 municipal election fell to 30%, with Ward 4 having the highest turnout at 38% and Ward 7 having the lowest at 22%. Ward 19 and Ward 14 were tied for second highest turnout at 36% each. The third highest turnout at 34% was in Ward 12. The wards with the second lowest turnout were Ward 1 and Ward 10 at 24% each. Ward 6 and Ward 23 with 25% turnout respectively were tied for third lowest turnout.

During the 2022 municipal election, there were 1,535 subdivisions across Toronto's 25 wards. Ward 10 had the highest number of subdivisions at 94, while Ward 23 had the lowest number at 38. Ward 13 had the second highest number of subdivisions at 90, with Ward 3 coming in third highest with 83 subdivisions. Ward 7 had the second lowest number of subdivisions at 47, following by Ward 25 with 48. 


```{r}
#| tbl-cap: "Summary Statistics"
#| label: tbl-summ-stats
#| echo: false

summary <- analysis_data |>
  summarise(
    Mean_Turnout = mean(percent_voted, na.rm = TRUE),
    Median_Turnout = median(percent_voted, na.rm = TRUE),
    SD_Turnout = sd(percent_voted, na.rm = TRUE),
    Min_Turnout = min(percent_voted, na.rm = TRUE),
    Max_Turnout = max(percent_voted, na.rm = TRUE),
    Mean_Uneducated = mean(percent_uneducated, na.rm = TRUE),
    Median_Uneducated = median(percent_uneducated, na.rm = TRUE),
    SD_Uneducated = sd(percent_uneducated, na.rm = TRUE),
    Min_Uneducated = min(percent_uneducated, na.rm = TRUE),
    Max_Uneducated = max(percent_uneducated, na.rm = TRUE),
    Mean_Unemployment = mean(unemployment_rate, na.rm = TRUE),
    Median_Unemployment = median(unemployment_rate, na.rm = TRUE),
    SD_Unemployment = sd(unemployment_rate, na.rm = TRUE),
    Min_Unemployment = min(unemployment_rate, na.rm = TRUE),
    Max_Unemployment = max(unemployment_rate, na.rm = TRUE),
    Mean_Income = mean(income, na.rm = TRUE),
    Median_Income = median(income, na.rm = TRUE),
    SD_Income = sd(income, na.rm = TRUE),
    Min_Income = min(income, na.rm = TRUE),
    Max_Income = max(income, na.rm = TRUE),
    Mean_Population = mean(population, na.rm = TRUE),
    Median_Population = median(population, na.rm = TRUE),
    SD_Population = sd(population, na.rm = TRUE),
    Min_Population = min(population, na.rm = TRUE),
    Max_Population = max(population, na.rm = TRUE),
    Mean_NumSub = mean(num_sub, na.rm = TRUE),
    Median_NumSub = median(num_sub, na.rm = TRUE),
    SD_NumSub = sd(num_sub, na.rm = TRUE),
    Min_NumSub = min(num_sub, na.rm = TRUE),
    Max_NumSub = max(num_sub, na.rm = TRUE),
    Mean_NumVoters = mean(number_voted, na.rm = TRUE),
    Median_NumVoters = median(number_voted, na.rm = TRUE),
    SD_NumVoters = sd(number_voted, na.rm = TRUE),
    Min_NumVoters = min(number_voted, na.rm = TRUE),
    Max_NumVoters = max(number_voted, na.rm = TRUE)
  )
long_summary_stats <-  summary |>
  pivot_longer(cols = everything(), names_to = "Statistic", values_to = "Value") |>
  separate(Statistic, into = c("Measure", "Variable"), sep = "_") |>
  spread(key = Measure, value = Value) |>
  select(Variable, Mean, Median, SD, Min, Max)

long_summary_stats$Variable <- c("Income", "Number of Subdivisions", "Number of Voters", "Population", "Voter Turnout (%)", "Uneducated Population (%)", "Unemployment Rate (%)")


kable(long_summary_stats,
      format = "markdown",
      digits = 2,
      col.names = c("Variable", "Mean", "Median", "Std. Dev", "Min", "Max"),
      row.names = FALSE,
      align = c('l', 'c', 'c', 'c', 'c', 'c'), 
      ) %>%
  kable_styling(latex_options = "hold_position")


```


## Relationship between Voter Turnout and Socio-Economic Factors

As one of our variables of interest, we are determined to examine the relationship between voter turnout and the ward's income. We expect income and voter turnout to be positively related because Higher-income individuals often have better access to resources, education, and stability, which can positively correlate with higher levels of political engagement and voter turnout. To visualize the relationship of interest, we plot ward's income with the voter turnout in @fig-turnout-vs-income.


```{r}
#| echo: false
#| label: fig-turnout-vs-income
#| fig-cap: "Correlation between Eligibile Voter Turnout and Ward's Income"
#| warning: false 
  ggplot(data = analysis_data, aes(x = income, y = percent_voted, label = ward_id)) +
  geom_point() +
  geom_text_repel(hjust=-0.5, vjust=0.5) +
  geom_smooth(method = "lm", color = "blue", se = TRUE) +
  theme_minimal() +
  labs(x = "Income", y = "Eligible Voter Turnout (%)") +
  scale_colour_viridis_d()

```
As expected, we see a moderate positive relationship between income of a ward and the voter turnout. Furthermore, Ward 4 is an outlier that has relatively low income and yet a high voter turnout. Intuitively, this aligns with our beliefs and confirms the trend between high income with higher voter turnout. 


Another explanatory variable we are interested in is the employment rate of a region. In this case, we visualize the relationship between employment rate and the nvoter turnout per ward. We expect to see a negative relationship between these variables. @fig-turnout-vs-unemployment displays the visualization. 


```{r}
#| echo: false
#| label: fig-turnout-vs-unemployment
#| fig-cap: "Correlation between Eligibile Voter Turnout and Ward's Unemployment Rate"
#| warning: false 
  ggplot(data = analysis_data, aes(x = unemployment_rate, y = percent_voted, label = ward_id)) +
  geom_point() +
  geom_text_repel(hjust=-0.5, vjust=0.5) +
  geom_smooth(method = "lm", color = "blue", se = TRUE) +
  theme_minimal() +
  labs(x = "Unemployment Rate (%)", y = "Eligible Voter Turnout (%)") +
  scale_colour_viridis_d()

```

Through the plot, we see that there is a moderately negative relationship between the unemployment rate of a ward and the voter turnout. This is in line with our expectations as higher levels of employment often correlate with increased stability and engagement within a community. Employed individuals may feel more connected to their local area and thus be more likely to participate in civic activities such as voting. Ward 10 is an outlier that has a low unemployment rate and yet a low voter turnout. This observation leaves room for further research and investigation into the history and background behind Ward 10's voter turnout.


Lastly, we examine the relationship between the percentage of uneducated population in a ward and the voter turnout. We expect to see a negative relationship between these variables. @fig-turnout-vs-education displays the visualization.

```{r}
#| echo: false
#| label: fig-turnout-vs-education
#| fig-cap: "Correlation between Eligibile Voter Turnout and Ward's Level of Education"
#| warning: false 
  ggplot(data = analysis_data, aes(x = percent_uneducated, y = percent_voted, label = ward_id)) +
  geom_point() +
  geom_text_repel(hjust=-0.5, vjust=0.5) +
  geom_smooth(method = "lm", color = "blue", se = TRUE) +
  theme_minimal() +
  labs(x = "Uneducated Population (%)", y = "Eligible Voter Turnout (%)") +
  scale_colour_viridis_d()

```

The plot in @fig-turnout-vs-education shows a negative relationship between the percentage of uneducated population in a ward and the voter turnout. This also aligns with our expectations as higher education levels typically correlate with greater awareness of civic duties, including voting, and a stronger sense of civic responsibility, which can lead to higher voter turnout. Ward 10 is again an outlier that has a low percentage of uneducated population and yet a low voter turnout.


## Relationship between Voter Turnout and Demographic Factors

In addition to socio-economic factors, we are also interested in examining the relationship between voter turnout and demographic factors such as population and number of subdivisions. We expect to see a positive relationship between population and voter turnout as higher population density in a ward may indicate greater community engagement and political activity, leading to higher voter turnout. Additionally, densely populated areas often have more resources and infrastructure, making it easier for residents to access polling stations and participate in elections. To visualize this relationship, we plot the ward's population with the voter turnout in @fig-turnout-vs-population.

```{r}
#| echo: false
#| label: fig-turnout-vs-population
#| fig-cap: "Correlation between Eligibile Voter Turnout and Ward's Population"
#| warning: false 
  ggplot(data = analysis_data, aes(x = population, y = percent_voted, label = ward_id)) +
  geom_point() +
  geom_text_repel(hjust=-0.5, vjust=0.5) +
  geom_smooth(method = "lm", color = "red", se = TRUE) +
  theme_minimal() +
  labs(x = "Population", y = "Eligible Voter Turnout (%)") +
  scale_colour_viridis_d()

```

Through the plot, we see that there is no relationship between the population of a ward and the voter turnout. It is possible that the population of a ward is not a reflection of its full demographic nature. Thus, we would not need to worry about population acting as a confounding factor when creating our demographic models.


Next, we examine the relationship between the number of subdivisions in a ward and the voter turnout. We expect to see a positive relationship between these variables as a higher number of subdivisions may indicate greater accessibility to polling stations and increased voter turnout. @fig-turnout-vs-numsub displays the visualization.

```{r}
#| echo: false
#| label: fig-turnout-vs-numsub
#| fig-cap: "Correlation between Eligibile Voter Turnout and Ward's Number of Subdivisions"
#| warning: false 
  ggplot(data = analysis_data, aes(x = num_sub, y = percent_voted, label = ward_id)) +
  geom_point() +
  geom_text_repel(hjust=-0.5, vjust=0.5) +
  geom_smooth(method = "lm", color = "red", se = TRUE) +
  theme_minimal() +
  labs(x = "Number of Subdivisions", y = "Eligible Voter Turnout (%)") +
  scale_colour_viridis_d()

```

Even though we see a slight positive correlation, the data reveals that having more subdivisions within wards does not automatically correlate to higher voter turnout, as illustrated by @fig-turnout-vs-numsub. Ward 4 which had the highest voter turnout at 38% has 70 subdivisions within the ward, which falls approximately in the middle of the number of subdivisions across all 25 wards. Ward 19 and Ward 14 which both saw the second highest voter turnout at 36% had 57 and 52 subdivisions respectively, once again highlighting that more subdivisions does not necessarily correlate to higher voter turnout. 



*Note*: Data analysis is performed in `R` [@citeR], and additional help is provided by libraries such as `dplyr` [@dplyr], `ggplot2` [@ggplot], `ggrepel` [@ggrepel], `tidyverse` [@thereferencecanbewhatever], `kableExtra` [@kableextra], `knitr` [@knitr], and `sf` [@pebesma2023spatial], `opendatatoronto` [@toronto], `readxl` [@excel], `here` [@here], `rstanarm` [@rstan], `arrow` [@arrow], `tidybayes` [@tidybayes], `modelsummary` [@modelsummary], `broom` [@broom], and `parameters` [@parameters].


# Model {#sec-model}

Here we briefly describe the Bayesian analysis model used to investigate the relationship between the socio-economic and demographic factors and voter turnout. In particular, we divide our investigation into two parts: socio-economic models and demographic models. For each, we consider two types of models: multiple linear regression and Poisson regression models. We also further tested our results from Poission regression by employing negative binomial regression models to account for unequal mean and variance in the data (The negative binomial regression results are not displayed here but the models can be found in relevant files in the `models` folder).

Background details and diagnostics are included in [Appendix -@sec-model-details].

## Model Set-Up

From the Data section, we observed the relationships between voter turnout and socio-economic and demographic factors in isolation. Now, we aim to understand the relationships in a more comprehensive manner by adjusting for all factors simultaneously using the following models. We create and run the generalised linear models in R [@citeR] using the `rstanarm` package of @rstan. Initially, we use the default priors from `rstanarm`, however, we allow `rstanarm` to improve the priors by scaling them based on the data. We allow auto-scaling and run both models with the updated priors specified above. 


### Socio-Economic Models

@tbl-SEmodelresults shows a model summary for socio-economic models, this will be discussed further in the [results](#results) section.

#### Poisson Regression

Define $y_i$ as the number of voters in the ward $i$. Then $income_i$ is the income of ward $i$, $uneducated_i$ is the uneducated population percentage of ward $i$, and $unemployment_i$ is the unemployment rate of ward $i$.

\begin{align}
y_i|\lambda_i &\sim \mbox{Poisson}(\lambda_i) \\
log(\lambda_i) &= \beta_0 + \beta_1 \times \mbox{uneducated}_i + \beta_2 \times \mbox{income}_i + \beta_3 \times \mbox{unemployment}_i \\
\beta_0 &\sim \mbox{Normal}(0, 2.5) \\
\beta_1 &\sim \mbox{Normal}(0, 0.508) \\
\beta_2 &\sim \mbox{Normal}(0, 0.074) \\
\beta_3 &\sim \mbox{Normal}(0, 1.187)
\end{align}

#### Multiple Linear Regression

Define $y_i$ as the voter turnout percentage in the ward $i$. Then $income_i$ is the income of ward $i$, $uneducated_i$ is the uneducated population percentage of ward $i$, and $unemployment_i$ is the unemployment rate of ward $i$. 

\begin{align}
y_i|\mu_i, \sigma &\sim \mbox{Normal}(\mu_i, \sigma) \\
\mu_i &= \beta_0 + \beta_1 \times \mbox{uneducated}_i + \beta_2 \times \mbox{income}_i + \beta_3 \times \mbox{unemployment}_i \\
\beta_0 &\sim \mbox{Normal}(0, 11) \\
\beta_1 &\sim \mbox{Normal}(0, 2.14) \\
\beta_2 &\sim \mbox{Normal}(0, 0.31) \\
\beta_3 &\sim \mbox{Normal}(0, 5.01) \\
\sigma &\sim \mbox{Exponential}(0.24)
\end{align}



### Demographic Models

@tbl-Dmodelresults shows a model summary for demographic models, this will be discussed further in the [results](#results) section.

#### Poisson Regression

Define $y_i$ as the number of voters in the ward $i$. Then $population_i$ is the population of ward $i$, and $numsub_i$ is the number of subdivisions in ward $i$.

\begin{align}
y_i|\lambda_i &\sim \mbox{Poisson}(\lambda_i) \\
log(\lambda_i) &= \beta_0 + \beta_1 \times \mbox{numsub}_i + \beta_2 \times \mbox{population}_i \\
\beta_0 &\sim \mbox{Normal}(0, 2.5) \\
\beta_1 &\sim \mbox{Normal}(0, 0.18125) \\
\beta_2 &\sim \mbox{Normal}(0, 0.00024)
\end{align}

#### Multiple Linear Regression

Define $y_i$ as the voter turnout percentage in the ward $i$. Then $population_i$ is the population of ward $i$, and $numsub_i$ is the number of subdivisions in ward $i$.

\begin{align}
y_i|\mu_i, \sigma &\sim \mbox{Normal}(\mu_i, \sigma) \\
\mu_i &= \beta_0 + \beta_1 \times \mbox{numsub}_i + \beta_2 \times \mbox{population}_i \\
\beta_0 &\sim \mbox{Normal}(0, 11) \\
\beta_1 &\sim \mbox{Normal}(0, 0.766) \\
\beta_2 &\sim \mbox{Normal}(0, 0.0001) \\
\sigma &\sim \mbox{Exponential}(0.24)
\end{align}

## Model Justification

We chose to use Bayesian analysis to investigate the relationship between socio-economic and demographic factors and voter turnout because it allows us to incorporate prior knowledge and uncertainty into our models. By using Bayesian analysis, we can estimate the posterior distribution of the parameters of interest, which provides a more comprehensive understanding of the relationships between the variables. Additionally, Bayesian analysis allows us to quantify the confidence levels in the estimates of our coefficients and make probabilistic statements about the relationships between the variables.

For our first model, we used a Poisson regression model to investigate the relationship between voter turnout and socio-economic factors. We chose this model because it is appropriate for count data, such as the number of voters, and allows us to model the relationship between the explanatory variables and the response variable. We also chose to use a multiple linear regression model to investigate the relationship between voter turnout and socio-economic factors. We included income, unemployment rate, and the percentage of uneducated population as explanatory variables in the model. We chose this model because it allows us to examine the relationships between multiple variables and voter turnout simultaneously. 

We then repeated the analysis for demographic factors, using population and the number of subdivisions as explanatory variables. We used the same models as for the socio-economic factors to investigate the relationships between these variables and voter turnout. We chose these models because they allow us to examine the relationships between the variables and voter turnout while controlling for other factors. 

From Appendix @fig-ppcheckandposteriorvsprior-1, we see that the Poisson regression model is not a good fit for the observed data. To improve our model, we consider the multiple linear regression model with all the explanatory variables except using percentage of voter turnout instead of unnormalised voter count. From Appendix @fig-ppcheckandposteriorvsprior-2, we see that the multiple linear regression is an improved fit from the Poisson regression model. This could be because the key assumption that the mean and variance are equal is violated. From @tbl-summ-stats, we see that mean and variance are not equal. 

Since an important assumption for the Poisson regression model does not hold, we also build a negative binomial model. We can relax the assumption of mean and variance as equal in negative binomial model. We got almost identical results from the negative binomial regression model as it is a close variant of the Poisson model with looser assumptions whose details can be found in the relevant files in the `models` folder.


# Results {#sec-results}


```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

socioeconomic_gaussian_model <-
  readRDS(file = here::here("models/socioeconomic_gaussian_model.rds"))

socioeconomic_poisson_model <-
  readRDS(file = here::here("models/socioeconomic_poisson_model.rds"))

demographic_gaussian_model <-
  readRDS(file = here::here("models/demographic_gaussian_model.rds"))

demographic_poisson_model <-
  readRDS(file = here::here("models/demographic_poisson_model.rds"))

```

## Socio-Economic Models

@tbl-SEmodelresults and @fig-modelresultsfig shows the results of the socio-economic models.

In the multiple linear regression model, the coefficients represent the change in the response variable (voter turnout) for a one-unit increase in the predictor variable, holding all other variables constant. In this analysis, the coefficient for the percentage of the uneducated population is -0.11, suggesting that for every one-unit increase in the percentage of uneducated individuals within a ward, the voter turnout decreases by 0.11 percentage points, although this effect is not statistically significant at the 99% confidence level. Conversely, the coefficient for income is 0.04, indicating that for every one-thousand increase in income, the voter turnout increases by 0.04 percentage points. However, this relationship is also not statistically significant. The coefficient for the unemployment rate is -0.41, implying that for every one-unit increase in the unemployment rate, the voter turnout decreases by 0.41 percentage points. While this coefficient is negative, indicating a decrease in voter turnout with higher unemployment rates, the relationship is not statistically significant either. The intercept term represents the expected voter turnout when all predictor variables are zero, which is 32.47% compared to the mean value of 29.48%. While this may never be practical in real life, it tells us that the negative correlation of voter turnout with variables like unemployment rate and uneducated population is relatively stronger than the positive correlation with income.

In the Poisson regression model, the coefficients represent the log-linear relationship between the predictor variables and the expected count of the response variable (number of voters). For the percentage of the uneducated population, the coefficient is -0.08, indicating that a one-unit increase in the percentage of uneducated individuals within a ward is associated with an 8% decrease in the expected count of voters, though this effect is not statistically significant at the 99% confidence level. The coefficient for income is 0.00, which implies that changes in income do not significantly affect the expected count of voters in the Poisson model. Similarly, the coefficient for the unemployment rate is -0.08, suggesting that increases in unemployment may lead to a slight decrease in the expected count of voters, although this effect is also not statistically significant. Overall, the Poisson regression results suggest that the percentage of uneducated individuals within a ward may have a modest impact on the expected count of voters, while income and unemployment rate do not significantly influence voter turnout in terms of the number of voters.

These coefficient values may be influenced by various factors related to how predictor variables and voter turnout are related. For instance, the negative coefficient for the unemployment rate suggests that higher unemployment rates may contribute to lower voter turnout. This could be due to factors such as decreased civic engagement among individuals facing economic hardship or logistical barriers to voting for those experiencing unemployment. However, the lack of statistical significance may indicate that other unmeasured variables or complex interactions between factors play a more significant role in determining voter turnout. Additionally, the relatively small coefficient values for income and the percentage of uneducated individuals suggest that these variables may have weaker effects on voter turnout within the context of the studied population. Overall, while the coefficients provide insight into the direction and potential magnitude of relationships between predictor variables and voter turnout, the lack of statistical significance suggests that these relationships may not be robust or generalizable across all wards in Toronto.


```{r}
#| echo: false
#| eval: true
#| label: tbl-SEmodelresults
#| tbl-cap: "Socio-economic explanatory models of voter turnout based on education, employment and income"
#| warning: false

  modelsummary(
  list(
  "Multiple Linear Regression" = socioeconomic_gaussian_model,
  "Poisson Regression" = socioeconomic_poisson_model),
  statistic = 'conf.int',
  conf.level = 0.99,
  fmt = 2)
```



## Demographic Models

@tbl-Dmodelresults and @fig-modelresultsfig2 shows the results of the demographic models.


In the multiple linear regression model, the coefficients represent the estimated change in the response variable (voter turnout) associated with a one-unit increase in the predictor variables, while holding all other variables constant. For the intercept, the coefficient is 39.80, indicating the estimated voter turnout when all predictor variables are zero. This value is statistically significant at the 99% confidence level, with a confidence interval of [12.40, 63.82]. The coefficient for the number of subdivisions is 0.17, suggesting that for each additional subdivision within a ward, the expected voter turnout increases by 0.17 units. However, this effect is not statistically significant at the 99% confidence level, as the confidence interval [-0.08, 0.39] includes zero.Similarly, the coefficient for population is 0.00, indicating that changes in population size do not significantly influence voter turnout in terms of the number of voters. The confidence interval [0.00, 0.00] further supports this finding, suggesting that the effect size of population on voter turnout is negligible.

Overall, while the intercept provides an estimate of baseline voter turnout, the coefficients for the number of subdivisions and population do not demonstrate significant associations with voter turnout in the multiple linear regression model. However, it's important to consider the limitations of the model and potential confounding factors that may impact these relationships.

In the Poisson regression model, the coefficients represent the log of the expected count of the response variable (number of voters) associated with a one-unit increase in the predictor variables, while holding all other variables constant. For the intercept, the coefficient is 9.52, indicating the estimated log count of voters when all predictor variables are zero. This value is statistically significant at the 99% confidence level, with a confidence interval of [9.48, 9.56]. The coefficient for the number of subdivisions is 0.01, suggesting that for each additional subdivision within a ward, the expected log count of voters increases by 0.01 units. This effect is statistically significant at the 99% confidence level, as the confidence interval [0.01, 0.01] does not include zero. Similarly, the coefficient for population is also 0.00, indicating that changes in population size do not significantly influence the expected log count of voters. The confidence interval [0.00, 0.00] further supports this finding.

Overall, the Poisson regression model suggests that the number of subdivisions within a ward has a statistically significant, although very small, positive association with the expected count of voters. However, changes in population size do not have a significant impact on the expected count of voters. It's important to interpret these findings in the context of the Poisson distribution and the assumptions of the model.

```{r}
#| echo: false
#| eval: true
#| label: tbl-Dmodelresults
#| tbl-cap: "Demographic explanatory models of voter turnout based on population and number of subdivisions"
#| warning: false

models <- list(
  "Multiple Linear Regression" = demographic_gaussian_model,
  "Poisson Regression" = demographic_poisson_model)

modelsummary(models,
             statistic = 'conf.int', conf_level = 0.99, fmt = 2)

```

# Discussion {#sec-discussion}

## Key Findings about Socio-Economic Factors

In this paper, we aimed to verify our expectations that socio-economic factors such as income, unemployment rate, and the percentage of uneducated individuals within a ward would impact voter turnout in the 2022 Toronto municipal election. During exploratory analysis of data, we observed that while income was positively correlated with voter turnout, the unemployment rate and the percentage of uneducated individuals were negatively correlated with voter turnout. This led us to hypothesize that higher income levels would be associated with higher voter turnout, while higher unemployment rates and a higher percentage of uneducated individuals would be associated with lower voter turnout. This hypothesis is backed by existing literature, as individuals with higher incomes often have greater access to resources, education, and stability, which can facilitate political engagement and higher voter turnout. Conversely, higher unemployment rates and a higher percentage of uneducated individuals may indicate economic insecurity and limited access to information or civic participation opportunities, contributing to lower voter turnout among these groups.

However, our subsequent Bayesian analysis @tbl-SEmodelresults revealed that the relationships between these socio-economic factors and voter turnout were not statistically significant at the 99% confidence level. While the coefficients in the models suggested that higher income levels were associated with higher voter turnout, and higher unemployment rates and a higher percentage of uneducated individuals were associated with lower voter turnout, the lack of statistical significance indicates that these relationships may not be robust or generalizable across all wards in Toronto. This suggests that the relationships between socio-economic factors and voter turnout may be more complex and nuanced than initially anticipated, and that other unmeasured variables or confounding interactions between factors may play a more significant role in determining voter turnout.

These findings can be utilised by policymakers and community leaders to develop targeted strategies and interventions to increase voter turnout in Toronto. For example, efforts to increase voter turnout among lower-income or less educated populations could focus on providing accessible information about the election process, offering resources to facilitate voting, and addressing barriers to political participation. Similarly, initiatives to engage unemployed individuals in the electoral process could involve outreach programs, community partnerships, and targeted messaging to encourage voter registration and turnout. By understanding the socio-economic factors that influence voter turnout, stakeholders can develop tailored approaches to promote civic engagement and increase voter participation in future elections.


## Key Findings about Demographic Factors

In terms of demographic factors, we expected that population density and the number of subdivisions within a ward would impact voter turnout in the 2022 Toronto municipal election. We hypothesized that higher population density and a higher number of subdivisions would be associated with higher voter turnout, as these factors may indicate greater community engagement, accessibility to polling stations, and resources that facilitate political participation. However, our exploratory analysis revealed that while population density was not correlated with voter turnout, the number of subdivisions had a weak positive correlation with voter turnout. This led us to further investigate the relationships between these demographic factors and voter turnout using Bayesian analysis. 

The demographic models in @tbl-Dmodelresults showed that the number of subdivisions within a ward had a statistically significant, although very small, positive association with the expected count of voters in the Poisson regression model. This suggests that an increase in the number of subdivisions within a ward may lead to a slight increase in the expected count of voters. However, changes in population size did not significantly influence the expected count of voters in either the multiple linear regression or Poisson regression models. These findings align with our initial hypothesis that the number of subdivisions may impact voter turnout, as subdivisions may provide greater accessibility to polling stations and facilitate community engagement. However, our analysis could not conclusively establish a relationship between population and voter turnout.

These results can inform strategies to increase voter turnout in Toronto by highlighting the importance of local infrastructure and community resources in promoting civic engagement. Efforts to increase voter turnout could focus on enhancing accessibility to polling stations, providing information about voting procedures, and fostering community connections within subdivisions. By understanding the demographic factors that influence voter turnout, policymakers and community leaders can develop targeted interventions to promote voter participation and strengthen democratic engagement in Toronto.

## Weaknesses and Next Steps

The cause of not being able to establish statistically significant relationships between most socio-economic and demographic factors and voter turnout could be due to the limitations of the dataset. The lack of detailed information on the specific characteristics of each ward, such as the presence of community organizations, local initiatives, or historical voting patterns, may have limited the depth of the analysis. Future research could benefit from incorporating additional data sources or conducting qualitative research to gain a more comprehensive understanding of the factors influencing voter turnout in Toronto. Additionally, expanding the dataset to include more observations or variables could help address the limitations of the current analysis and provide a more robust foundation for investigating the relationships between socio-economic and demographic factors and voter turnout.

Next, the creation of subdivision boundaries within wards lacks transparency and clarity, while impacting the local democratic process. The City Clerk is responsible for drawing up all subdivisions, however the data and information they use to make these decisions is not public and it is challenging to account for any bias introduced during this process. Moreover, the number of subdivisions and population alone cannot dictate voter behaviour, as there are many other demographic factors which inform why an elector does or does not cast a ballot. The caliber of local candidates and the nature of the election, whether an incumbent is standing for re-election or the seat is open for a new councillor impacts voter turnout and should be accounted for in future analysis. 

As mentioned previously, our small data problem can affect the internal validity of the research in question. Since we have a small data set, there is a reduction in statistical power, the probability of correctly rejecting a false null hypothesis. Additionally, having a small number of observations increases the risk of overfitting. In this case, the model learns the noise in the data instead of the underlying pattern. The data has limited number of observations and is at the ward level in Toronto, so generalizing our findings to cities outside Toronto may raise external validity concerns. Toronto's unique socio-economic, cultural, and environmental characteristics may influence the study's variables in ways that are not replicable in other cities. Factors such as policies and economic conditions vary significantly from one city to another, potentially affecting the applicability of the findings elsewhere. 

From the Appendix posterior prediction checks in @fig-ppcheckandposteriorvsprior, and @fig-ppcheckandposteriorvsprior2, we can see that the Poisson regression models do not fit the data well but multiple linear regression does fairly well. This is likely because our data violates an important assumption of the Poisson regression model: equal mean and variance. In the data, we have 25 observations for the variables since we are comparing data at the ward level across the 25 Toronto wards. The small number of observations combined with the model fit indicates a potential data problem in the research. The relatively small sample size of 25 observations is a critical factor to consider, as it might not only impact the robustness of the statistical models but also reflect on the generalizability of the findings. Small sample sizes can lead to higher variability and may affect the model's ability to accurately capture the underlying distribution of the data.

Moreover, the mismatch between the expected model conditions and the observed data characteristics suggests that there may be underlying factors affecting the data quality or distribution that were not accounted for in the initial analysis. This could range from measurement errors to unaccounted-for variables that could significantly influence the outcomes of the ward-level comparisons. Therefore, this analysis does not merely highlight a statistical anomaly but points to a larger data problem that could have implications for the research's validity and reliability.

With the purpose of investigating the relationship between socioeconomic and demographic factors on voter turnout in Toronto, we find a moderate positive relationship between number of subdivisions and voter turnout in ward and a slight negaitive correlation between unemployment rate and voter turnout supported by data visualization as well as statistical models. The research is unable to conclude any relationship between income and the percentage of uneducated individuals with voter turnout. The research is also unable to conclude any relationship between population and voter turnout. Violation in the Poisson model assumptions as well as a small data set calls for a larger data set in future research to address both internal and external validity concerns. With a larger number of observations, model inferences will improve, addressing internal validity. To expand the data set, we can consider gathering data from other cities. Through this, we are also able to address external validity. With the inclusion of a large data set with many cities, we can gather data with socio-economic diversity. When working with more diverse data, we can potentially generalize our findings to elections across the world, helping us learn more about the factors that affect voter turnout in a variety of contexts.


\newpage

\appendix

# Appendix {-}


# Datasheet {#sec-datasheet}

Extract of the questions from @gebru2021datasheets.

**Motivation**

1. *For what purpose was the dataset created? Was there a specific task in mind? Was there a specific gap that needed to be filled? Please provide a description.*
    - The dataset was created to provide voter statistics for the 2022 municipal election in Toronto. It includes information on the number of eligible electors, additions and corrections to the voter's list, and the number of voters who cast ballots, broken down by ward and subdivision.

2. *Who created the dataset (for example, which team, research group) and on behalf of which entity (for example, company, institution, organization)?*
    - The dataset was created by the City Clerk's Office on behalf of the City of Toronto.
3. *Who funded the creation of the dataset? If there is an associated grant, please provide the name of the grantor and the grant name and number.*
    - The creation of the dataset was funded by the City of Toronto.
4. *Any other comments?*
    - No comments.

**Composition**

1. *What do the instances that comprise the dataset represent (for example, documents, photos, people, countries)? Are there multiple types of instances (for example, movies, users, and ratings; people and interactions between them; nodes and edges)? Please provide a description.*
	- The instances in the dataset represent the wards of the City of Toronto. Each instance corresponds to a specific ward within the city, providing voter statistics for the 2022 municipal election.
2. *How many instances are there in total (of each type, if appropriate)?*
	- There are 25 instances in total, each representing a unique ward within the City of Toronto.
	
3. *Does the dataset contain all possible instances or is it a sample (not necessarily random) of instances from a larger set? If the dataset is a sample, then what is the larger set? Is the sample representative of the larger set (for example, geographic coverage)? If so, please describe how this representativeness was validated/verified. If it is not representative of the larger set, please describe why not (for example, to cover a more diverse range of instances, because instances were withheld or unavailable).*
	- The dataset contains all possible instances of wards within the City of Toronto for the 2022 municipal election. As such, it is not a sample but rather a complete enumeration of all wards and their corresponding voter statistics for the specified election period. Therefore, the dataset is representative of the entire city and does not require validation or verification of representativeness.

4. *What data does each instance consist of? "Raw" data (for example, unprocessed text or images) or features? In either case, please provide a description.*
	- Each instance consists of voter statistics for a specific ward within the City of Toronto for the 2022 municipal election. The dataset includes 23 continuous variables, such as the number of eligible electors, the number of voters, and the eligible voter turnout percentage. Additionally, each instance includes a categorical feature identifying the ward represented.


5. *Is there a label or target associated with each instance? If so, please provide a description.*
	- Yes, the label associated with each instance is the ward ID, which represents the unique identifier for each ward within the City of Toronto.


6. *Is any information missing from individual instances? If so, please provide a description, explaining why this information is missing (for example, because it was unavailable). This does not include intentionally removed information, but might include, for example, redacted text.*
	- There is no missing information from individual instances. The dataset provides comprehensive voter statistics for each ward, and all relevant features are included without any missing values.

7. *Are relationships between individual instances made explicit (for example, users' movie ratings, social network links)? If so, please describe how these relationships are made explicit.*
	- There are no relationships between individual instances.
8. *Are there recommended data splits (for example, training, development/validation, testing)? If so, please provide a description of these splits, explaining the rationale behind them.*
	- There are no recommended data splits.
9. *Are there any errors, sources of noise, or redundancies in the dataset? If so, please provide a description.*
	- There are no errors, sources of noise, or redundancies in the dataset.
10. *Is the dataset self-contained, or does it link to or otherwise rely on external resources (for example, websites, tweets, other datasets)? If it links to or relies on external resources, a) are there guarantees that they will exist, and remain constant, over time; b) are there official archival versions of the complete dataset (that is, including the external resources as they existed at the time the dataset was created); c) are there any restrictions (for example, licenses, fees) associated with any of the external resources that might apply to a dataset consumer? Please provide descriptions of all external resources and any restrictions associated with them, as well as links or other access points, as appropriate.*
	- The dataset is self-contained.
11. *Does the dataset contain data that might be considered confidential (for example, data that is protected by legal privilege or by doctor-patient confidentiality, data that includes the content of individuals' non-public communications)? If so, please provide a description.*
	- There is no confidential data, and the dataset is publicly available.
12. *Does the dataset contain data that, if viewed directly, might be offensive, insulting, threatening, or might otherwise cause anxiety? If so, please describe why.*
	- No, the dataset does not contain data that, if viewed directly, might be offensive, insulting, threatening, or might otherwise cause anxiety.

13. *Does the dataset identify any sub-populations (for example, by age, gender)? If so, please describe how these subpopulations are identified and provide a description of their respective distributions within the dataset.*
	- The dataset does not identify any sub-populations such as age or gender. It primarily focuses on voter statistics for different wards in the City of Toronto, without specific demographic information about individual voters. Therefore, there are no identifiable subpopulations within the dataset.

14. *Is it possible to identify individuals (that is, one or more natural persons), either directly or indirectly (that is, in combination with other data) from the dataset? If so, please describe how.*
	- It is not possible to identify individuals in any way.
15. *Does the dataset contain data that might be considered sensitive in any way (for example, data that reveals race or ethnic origins, sexual orientations, religious beliefs, political opinions or union memberships, or locations; financial or health data; biometric or genetic data; forms of government identification, such as social security numbers; criminal history)? If so, please provide a description.*
	- None.
16. *Any other comments?*
	- None.

**Collection process**

1. *How was the data associated with each instance acquired? Was the data directly observable (for example, raw text, movie ratings), reported by subjects (for example, survey responses), or indirectly inferred/derived from other data (for example, part-of-speech tags, model-based guesses for age or language)? If the data was reported by subjects or indirectly inferred/derived from other data, was the data validated/verified? If so, please describe how.*
	- The data associated with each instance was acquired through interviews conducted with subjects from all 25 states. Subjects reported the data directly, providing information relevant to voter statistics for the respective wards in the City of Toronto.


2. *What mechanisms or procedures were used to collect the data (for example, hardware apparatuses or sensors, manual human curation, software programs, software APIs)? How were these mechanisms or procedures validated?*
	- The mechanism used to collect the data was manual human curation. This involved individuals conducting interviews and recording the information provided by the subjects. The validation of this process likely involved quality checks during data entry and potentially cross-referencing the collected information with other sources to ensure accuracy and consistency.


3. *If the dataset is a sample from a larger set, what was the sampling strategy (for example, deterministic, probabilistic with specific sampling probabilities)?*
	- The dataset represents all possible instances, meaning it contains data for every ward in the City of Toronto. Therefore, there was no sampling strategy involved as the dataset encompasses the entire population of interest. However, if there were sampling involved, the strategy would likely have been geographic stratification, subdividing each state into regions and systematically selecting primary sampling units with probability proportional to the size of the strata.


4. *Who was involved in the data collection process (for example, students, crowdworkers, contractors) and how were they compensated (for example, how much were crowdworkers paid)?*
	- The data collection process likely involved individuals from the City Clerk's Office or other relevant departments within the municipal government of Toronto. These individuals would have been responsible for conducting interviews, gathering voter statistics, and maintaining the dataset. It's reasonable to assume that they were compensated as part of their regular employment with the municipal government, although specific details regarding compensation are not provided in the dataset information.


5. *Over what timeframe was the data collected? Does this timeframe match the creation timeframe of the data associated with the instances (for example, recent crawl of old news articles)? If not, please describe the timeframe in which the data associated with the instances was created.*
  - The data was last refreshed on February 7, 2023, as indicated in the dataset details. This timeframe corresponds to the last update or revision of the dataset. The data collection process likely occurred during the 2022 municipal election period, which took place on October 24, 2022. Therefore, the data collection timeframe aligns with the creation timeframe of the data associated with the instances.

6. *Were any ethical review processes conducted (for example, by an institutional review board)? If so, please provide a description of these review processes, including the outcomes, as well as a link or other access point to any supporting documentation.*
	- Ethical review processes were not conducted.
7. *Did you collect the data from the individuals in question directly, or obtain it via third parties or other sources (for example, websites)?*
	- We obtained the data via the Open Data Toronto website
8. *Were the individuals in question notified about the data collection? If so, please describe (or show with screenshots or other information) how notice was provided, and provide a link or other access point to, or otherwise reproduce, the exact language of the notification itself.*
	- The dataset information does not specify whether individuals were notified about the data collection process. However, given that the data is publicly available and pertains to voter statistics for the 2022 municipal election, it is likely that individuals were aware of the data collection process through public records and disclosures related to the election.
9. *Did the individuals in question consent to the collection and use of their data? If so, please describe (or show with screenshots or other information) how consent was requested and provided, and provide a link or other access point to, or otherwise reproduce, the exact language to which the individuals consented.*
	- The dataset information does not provide details on how consent was obtained from individuals for data collection and use. Given that the data pertains to voter statistics for the 2022 municipal election, it is likely that consent was not explicitly requested or required, as this information is typically considered public record and collected as part of the election process.

10. *If consent was obtained, were the consenting individuals provided with a mechanism to revoke their consent in the future or for certain uses? If so, please provide a description, as well as a link or other access point to the mechanism (if appropriate).*
	- A mechanism to revoke consent was not provided.
11. *Has an analysis of the potential impact of the dataset and its use on data subjects (for example, a data protection impact analysis) been conducted? If so, please provide a description of this analysis, including the outcomes, as well as a link or other access point to any supporting documentation.*
	- There is no mention of an analysis of the potential impact of the dataset and its use on data subjects.
12. *Any other comments?*
	- None.

**Preprocessing/cleaning/labeling**

1. *Was any preprocessing/cleaning/labeling of the data done (for example, discretization or bucketing, tokenization, part-of-speech tagging, SIFT feature extraction, removal of instances, processing of missing values)? If so, please provide a description. If not, you may skip the remaining questions in this section.*
	- We cleaned the data by removing any unnecessary columns and renaming the columns to make them more descriptive. We also converted the data types of certain columns to ensure consistency and ease of analysis.
2. *Was the "raw" data saved in addition to the preprocessed/cleaned/labeled data (for example, to support unanticipated future uses)? If so, please provide a link or other access point to the "raw" data.*
	- The raw data downloaded using Open Data Toronto is available in the folder data/raw_data/raw_data.csv.
3. *Is the software that was used to preprocess/clean/label the data available? If so, please provide a link or other access point.*
	- R Software is avalaible at https://www.R-project.org/
4. *Any other comments?*
	- None.

**Uses**

1. *Has the dataset been used for any tasks already? If so, please provide a description.*
	- The dataset has not been used for other tasks yet.
2. *Is there a repository that links to any or all papers or systems that use the dataset? If so, please provide a link or other access point.*
	- No, there is no repository that links to any papers or systems that use the dataset.
3. *What (other) tasks could the dataset be used for?*
	- The election dataset could be used for various analyses, such as predicting voter turnout, identifying trends in voter participation, and evaluating the impact of socio-economic factors on voting behavior. Additionally, the dataset could be used to assess the effectiveness of voter registration campaigns, analyze the distribution of voters across different wards, and explore the relationship between voter turnout and demographic characteristics.
	
4. *Is there anything about the composition of the dataset or the way it was collected and preprocessed/cleaned/labeled that might impact future uses? For example, is there anything that a dataset consumer might need to know to avoid uses that could result in unfair treatment of individuals or groups (for example, stereotyping, quality of service issues) or other risks or harms (for example, legal risks, financial harms)? If so, please provide a description. Is there anything a dataset consumer could do to mitigate these risks or harms?*
	- The dataset contains voter statistics for the 2022 municipal election in Toronto and does not include any personal information about individual voters. However, dataset consumers should be aware that the data pertains to voter participation and may be subject to privacy and confidentiality considerations. To avoid potential risks or harms, consumers should use the data responsibly and ensure that any analyses or interpretations are conducted in an ethical and unbiased manner. Additionally, consumers should be mindful of the limitations of the dataset and consider the context in which the data was collected when using it for future tasks.
	
5. *Are there tasks for which the dataset should not be used? If so, please provide a description.*
	- Not applicable.

**Distribution**

1. *Will the dataset be distributed to third parties outside of the entity (for example, company, institution, organization) on behalf of which the dataset was created? If so, please provide a description.*
	- No, the dataset is openly available and being used for personal uses only.
2. *How will the dataset be distributed (for example, tarball on website, API, GitHub)? Does the dataset have a digital object identifier (DOI)?*
	- The dataset is distributed using Open Data Toronto and will be available for download as a CSV file. The cleaned dataset is available on Github.
3. *When will the dataset be distributed?*
	- The raw dataset is already available for download from Open Data Toronto. The cleaned dataset will be available on Github on 18th April 2024.
4. *Will the dataset be distributed under a copyright or other intellectual property (IP) license, and/or under applicable terms of use (ToU)? If so, please describe this license and/ or ToU, and provide a link or other access point to, or otherwise reproduce, any relevant licensing terms or ToU, as well as any fees associated with these restrictions.*
	- The dataset has been released under the Open Government License - Toronto. The cleaned dataset used in this paper will be available on Github under the MIT License.
5. *Have any third parties imposed IP-based or other restrictions on the data associated with the instances? If so, please describe these restrictions, and provide a link or other access point to, or otherwise reproduce, any relevant licensing terms, as well as any fees associated with these restrictions.*
	- There are no restrictions
6. *Do any export controls or other regulatory restrictions apply to the dataset or to individual instances? If so, please describe these restrictions, and provide a link or other access point to, or otherwise reproduce, any supporting documentation.*
	- No such controls or restrictions are applicable.
7. *Any other comments?*
  - None.

**Maintenance**

1. *Who will be supporting/hosting/maintaining the dataset?*
	- Janel Gilani
2. *How can the owner/curator/manager of the dataset be contacted (for example, email address)?*
	- Can be contacted via github
3. *Is there an erratum? If so, please provide a link or other access point.*
	- There is no erratum available currently.
4. *Will the dataset be updated (for example, to correct labeling errors, add new instances, delete instances)? If so, please describe how often, by whom, and how updates will be communicated to dataset consumers (for example, mailing list, GitHub)?*
	- Currently there is no plan of updating the dataset. If there are updates in the future, it will be done through Github.
5. *If the dataset relates to people, are there applicable limits on the retention of the data associated with the instances (for example, were the individuals in question told that their data would be retained for a fixed period of time and then deleted)? If so, please describe these limits and explain how they will be enforced.*
	- The dataset was made publicly available and does not contain personal information about individuals. Therefore, there are no limits on the retention of data associated with the instances. The data will be retained indefinitely for research and analysis purposes.
6. *Will older versions of the dataset continue to be supported/hosted/maintained? If so, please describe how. If not, please describe how its obsolescence will be communicated to dataset consumers.*
	- The older versions would not be hosted. Dataset consumers will be able to check whether the dataset has been updated through Github commit history.
7. *If others want to extend/augment/build on/contribute to the dataset, is there a mechanism for them to do so? If so, please provide a description. Will these contributions be validated/verified? If so, please describe how. If not, why not? Is there a process for communicating/distributing these contributions to dataset consumers? If so, please provide a description.*
	- There is no mechanism for accepting contributions from other users as of now.

# Model Details {#sec-model-details}

## Model Credibility Intervals

```{r}
#| echo: false
#| eval: true
#| label: fig-modelresultsfig
#| fig-cap: "Explanatory model of voter turnout based on socio-economic factors"
#| warning: false

modelplot(socioeconomic_gaussian_model, conf_level = 0.99) +
  labs(x = "99 per cent credibility interval")

```

```{r}
#| echo: false
#| eval: true
#| label: fig-modelresultsfig2
#| fig-cap: "Explanatory model of voter turnout based on demographic factors"
#| warning: false

modelplot(demographic_gaussian_model, conf_level = 0.99) +
  labs(x = "99 per cent credibility interval") 

```

## Posterior Predictive Check

In @fig-ppcheckandposteriorvsprior-1 we implement a posterior predictive check on the Poisson regression model. This shows the comparison between the actual outcome variable (number of voters) with simulations from the posterior distribution. From the figure, we can see that the observed data has peaked while the posterior predictive distributions are more dispersed. This means that the model is not a good fit and does not replicate the observed distribution well. 

In @fig-ppcheckandposteriorvsprior-2 we implement a posterior predictive check on the multiple linear regression model. This shows the comparison between the actual outcome variable (voter turnout percentage) with simulations from the posterior distribution. Here the observed data and posterior predictions have some overlap. This model is a better fit than the multiple regression model.  

In @fig-ppcheckandposteriorvsprior-3 we compare the posterior with the prior. This shows how much the estimates of the coefficients of our variables: unemployment rate, uneducated population and income, have changed once data was taken into account.

Similar results are seen for the demographic models in @fig-ppcheckandposteriorvsprior2-1, @fig-ppcheckandposteriorvsprior2-2, and @fig-ppcheckandposteriorvsprior2-3.

```{r}
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| label: fig-ppcheckandposteriorvsprior
#| layout-ncol: 4
#| fig-cap: "Examining how the socio-economic models fit, and is affected by, the data"
#| fig-subcap: ["Poisson", "Multiple Linear", "Posterior v/s Prior"]

analysis_data <- analysis_data |>
  mutate(
    income = income / 1000
  )

pp_check(socioeconomic_poisson_model) +
  theme_classic() +
  theme(legend.position = "bottom")

pp_check(socioeconomic_gaussian_model) +
  theme_classic() +
  theme(legend.position = "bottom")

posterior_vs_prior(socioeconomic_gaussian_model) +
  theme_minimal() +
  scale_color_brewer(palette = "Set1") +
  theme(legend.position = "bottom") +
  coord_flip()
```


```{r}
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| label: fig-ppcheckandposteriorvsprior2
#| layout-ncol: 4
#| fig-cap: "Examining how the demographic models fit, and is affected by, the data"
#| fig-subcap: ["Poisson", "Multiple Linear", "Posterior v/s Prior"]


pp_check(demographic_poisson_model) +
  theme_classic() +
  theme(legend.position = "bottom")

pp_check(demographic_gaussian_model) +
  theme_classic() +
  theme(legend.position = "bottom")


posterior_vs_prior(demographic_gaussian_model) +
  theme_minimal() +
  scale_color_brewer(palette = "Set1") +
  theme(legend.position = "bottom") +
  coord_flip()
```

## Diagnostics

The Markov chain Monte Carlo sampling algorithm checks for signs that the algorithm has issues. We consider a trace plot and a Rhat plot for our socio-economic model. In @fig-stanareyouokay-1, we see horizontal lines that bounce around and have overlap between the chains. In @fig-stanareyouokay-2, we see that everything is close to 1. We do not see anything out of the ordinary in the trace plot or Rhat plot, indicating that the algorithm did not run into any issues. 

We see the same results for the demographic model in @fig-stanareyouokay2-1 and @fig-stanareyouokay2-2.


```{r}
#| echo: false
#| eval: true
#| message: false
#| warning: false
#| label: fig-stanareyouokay
#| fig-cap: "Checking the convergence of the MCMC algorithm for the socio-economic multiple linear regression model"
#| fig-subcap: ["Trace plot", "Rhat plot"]
#| layout-ncol: 2

plot(socioeconomic_gaussian_model, "trace")

plot(socioeconomic_gaussian_model, "rhat")
```



```{r}
#| echo: false
#| eval: true
#| message: false
#| warning: false
#| label: fig-stanareyouokay2
#| fig-cap: "Checking the convergence of the MCMC algorithm for the demographic multiple linear regression model"
#| fig-subcap: ["Trace plot", "Rhat plot"]
#| layout-ncol: 2

plot(demographic_gaussian_model, "trace")

plot(demographic_gaussian_model, "rhat")
```


\newpage


# References


